
<!DOCTYPE html>


<html lang="en" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pyxu_diffops &#8212; pyxu-diffops Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-codeautolink.css?v=125d5c1c" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=113f4227" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script src="_static/documentation_options.js?v=44c0d587"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=30646c52"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'index';</script>
    <link rel="icon" href="_static/favicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="api/index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="#">
  
  
  
  
    
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api/index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="examples/index.html">
                        Example Gallery
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="references.html">
                        References
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<strong> v0.1 </strong></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dhamm97/pyxu-diffops" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dhamm97/pyxu-diffops" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-python"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="mailto: daniele.hamm@epfl.ch" title="Contact" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class=""></i></span>
            <label class="sr-only">Contact</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api/index.html">
                        API Reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="examples/index.html">
                        Example Gallery
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="references.html">
                        References
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<strong> v0.1 </strong></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dhamm97/pyxu-diffops" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/dhamm97/pyxu-diffops" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-python"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="mailto: daniele.hamm@epfl.ch" title="Contact" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class=""></i></span>
            <label class="sr-only">Contact</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article"></div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <!-- CSS overrides on the homepage only -->
<style>
.bd-main .bd-content .bd-article-container {
max-width: 70rem; /* Make homepage a little wider instead of 60em */
}
/* Extra top/bottom padding to the sections */
article.bd-article section {
padding: 2rem 0 5rem;
}
/* Override all h1 headers except for the hidden ones */
h1:not(.sd-d-none) {
font-size: 48px;
text-align: left;
margin-bottom: 4rem;
}
/* Override all h3 headers that are not in hero */
h3:not(#hero h3) {
font-weight: bold;
text-align: left;
}

p {
text-align: justify;
}

a:visited {
color: var(--pst-color-primary);
}

.homepage-button.primary-button:visited {
color: var(--pst-color-background);
}


.sponsors-list-item {
display: inline-flex;
justify-content: center;
opacity: 0.5;
filter: brightness(0.5) grayscale(1);
}

@keyframes platformsSlideshow {
100% {
    transform: translateX(-2000px);
}
}
</style><div id="hero"><section id="pyxu-diffops">
<h1 class="sd-d-none">Pyxu_diffops<a class="headerlink" href="#pyxu-diffops" title="Link to this heading">#</a></h1>
<h2 style="font-size: 60px; font-weight: bold; display: inline"><span>Pyxu-diffops</span></h2>
<p>
Welcome to <strong> Pyxu-diffops</strong>, a Pyxu plugin implementing many diffusion operators which are popular in the PDE-based image processing community.
Here, we provide a basic introduction to the PDE-based image processing techniques implemented by this plugin.
</p>
<div class="homepage-button-container">
<div class="homepage-button-container-row">
    <a href="./examples/index.html" class="homepage-button primary-button">See Examples</a>
    <a href="./api/index.html" class="homepage-button secondary-button">See API Reference </a>
</div>
</div>
</div></section>
<section id="diffusion-operators">
<h1>Diffusion operators<a class="headerlink" href="#diffusion-operators" title="Link to this heading">#</a></h1>
<p>This plugin provides an interface to deal with PDE-based image processing <a class="reference internal" href="references.html#weickert" id="id1"><span>[Weickert]</span></a>, <a class="reference internal" href="references.html#tschumperle" id="id2"><span>[Tschumperle]</span></a>. For simplicity, throughout the
documentation we consider a <span class="math notranslate nohighlight">\(2\)</span>-dimensional image <span class="math notranslate nohighlight">\(\mathbf{f} \in \mathbb{R}^{N_{0} \times N_1}\)</span>,
but higher dimensional signals could be considered. We denote by <span class="math notranslate nohighlight">\(f_i\)</span> the <span class="math notranslate nohighlight">\(i\)</span>-th pixel
of <span class="math notranslate nohighlight">\(\mathbf{f},\;i=0,\ldots,N_{tot}-1,\;N_{tot}=N_0N_1\)</span>. Furthermore, let
<span class="math notranslate nohighlight">\(\boldsymbol{\nabla} \mathbf{f} \in \mathbb{R}^{2 \times N_{0} \times N_1}\)</span> be the image gradient; we denote by <span class="math notranslate nohighlight">\((\boldsymbol{\nabla} \mathbf{f})_i \in \mathbb{R}^{2}\)</span>
the local gradient in correspondence of the <span class="math notranslate nohighlight">\(i\)</span>-th pixel.</p>
<p>Let us first consider the simple case of PDE-based image smoothing <a class="reference internal" href="references.html#weickert" id="id3"><span>[Weickert]</span></a>. Gaussian smoothing, or linear diffusion filtering, can be achieved computing the time evolution
of the Partial Differential Equation (PDE)</p>
<div class="math notranslate nohighlight">
\[\frac{\partial\mathbf{f}}{\partial t} = \mathrm{div}(\boldsymbol{\nabla}\mathbf{f})
                                      = \boldsymbol{\Delta} \mathbf{f},\]</div>
<p>where <span class="math notranslate nohighlight">\(t\)</span> represents an artificial time and the divergence operator acts on the local gradient. The above <strong>diffusion equation</strong> corresponds to the
well-known heat equation. It achieves linear, isotropic, homogeneous smoothing. In practice, the time evolution can be computed
discretizing the PDE in time; if we use the simple explicit Euler method with time-step  <span class="math notranslate nohighlight">\(\Delta t=\tau\)</span> , we obtain the scheme</p>
<div class="math notranslate nohighlight" id="equation-update-rule">
<span class="eqno">(1)<a class="headerlink" href="#equation-update-rule" title="Link to this equation">#</a></span>\[\mathbf{f}_{n+1} = \mathbf{f}_n + \tau \mathrm{div}(\boldsymbol{\nabla}\mathbf{f}_n).\]</div>
<p>Letting the PDE evolve in time, we obtain increasingly smoother versions of the original image. Eventually, we would reach
the steady state <span class="math notranslate nohighlight">\(\frac{\partial\mathbf{f}}{\partial t}=0\)</span>, corresponding to a flat image. By early stopping, we can achieve
arbitrarily smooth versions of <span class="math notranslate nohighlight">\(\mathbf{f}\)</span>.</p>
<p>In Gaussian smoothing, the divergence is applied to the flux <span class="math notranslate nohighlight">\(\boldsymbol{\nabla} \mathbf{f}\)</span>, which coincides with the image gradient. However, the
flux can be locally modified to promote desired features by designing suitable <strong>diffusion tensors</strong> <span class="math notranslate nohighlight">\(\mathbf{D}(\mathbf{f})\)</span>, leading to the diffusion equation</p>
<div class="math notranslate nohighlight" id="equation-grad-flow-divdiff">
<span class="eqno">(2)<a class="headerlink" href="#equation-grad-flow-divdiff" title="Link to this equation">#</a></span>\[\frac{\partial\mathbf{f}}{\partial t} = \mathrm{div}(\mathbf{D}(\mathbf{f})\boldsymbol{\nabla}\mathbf{f}).\]</div>
<p>The diffusion tensor acts on the local gradient, biasing the diffusion process to enhance features of interest. Anisotropic, inhomogeneous
smoothing can thus be achieved. Many diffusion tensors have been proposed. Furthermore, generalizations
going beyond purely divergence-based diffusion terms have been investigated <a class="reference internal" href="references.html#tschumperle" id="id4"><span>[Tschumperle]</span></a>.</p>
<p>The Pyxu-diffops module allows to consider diffusion processes that, in their most general form, can be written as</p>
<div class="math notranslate nohighlight" id="equation-grad-flow-generic">
<span class="eqno">(3)<a class="headerlink" href="#equation-grad-flow-generic" title="Link to this equation">#</a></span>\[\frac{\partial\mathbf{f}}{\partial t} = \mathbf{D}_{out}\mathrm{div}(\mathbf{D}_{in}\boldsymbol{\nabla}\mathbf{f})
 + \mathbf{b} + \mathbf{T}_{out}\mathrm{trace}\big(\mathbf{T}_{in}\mathbf{H}(\mathbf{f})\big) + (\boldsymbol{\nabla}\mathbf{f})^T \mathbf{J}_{\mathbf{w}}\mathbf{w},\]</div>
<dl class="simple">
<dt>where</dt><dd><ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\mathbf{D}_{out} = \mathbf{D}_{out}(\mathbf{f})\)</span> is the outer diffusivity for the divergence term,</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{D}_{in} = \mathbf{D}_{in}(\mathbf{f})\)</span> is the diffusion coefficient for the divergence term,</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{b} = \mathbf{b}(\mathbf{f})\)</span> is the balloon force,</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{T}_{out} = \mathbf{T}_{out}(\mathbf{f})\)</span> is the outer diffusivity for the trace term,</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{T}_{in} = \mathbf{T}_{in}(\mathbf{f})\)</span> is the diffusion coefficient for the trace term,</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{H}(\mathbf{f})\)</span> is the Hessian evaluated at <span class="math notranslate nohighlight">\(\mathbf{f}\)</span>,</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{w}\)</span> is a vector field assigning a <span class="math notranslate nohighlight">\(2\)</span>-dimensional vector to each pixel,</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbf{J}_\mathbf{w}\)</span> is the Jacobian of the vector field <span class="math notranslate nohighlight">\(\mathbf{w}\)</span>.</p></li>
</ul>
</dd>
</dl>
<p>Pyxu-diffops offers a collection of diffusion operators, implemented as Pyxu differentiable functionals <a class="reference external" href="https://pyxu-org.github.io/api/abc.html#pyxu.abc.DiffFunc" title="(in Project name not set v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">DiffFunc</span></code></a>. These classes
exhibit an <code class="docutils literal notranslate"><span class="pre">apply()</span></code> and a <code class="docutils literal notranslate"><span class="pre">grad()</span></code> method.</p>
<p>The right-hand side of the above PDE represents the output of the <code class="docutils literal notranslate"><span class="pre">grad()</span></code> method applied to the image <span class="math notranslate nohighlight">\(\mathbf{f}\)</span>.</p>
<p>To understand why the diffusion operators are implemented as functionals, i.e., why they exhibit an <code class="docutils literal notranslate"><span class="pre">apply()</span></code> method, we need to need to consider PDE-based restoration rather than simple smoothing.</p>
<section id="pde-based-restoration">
<h2>PDE-based restoration<a class="headerlink" href="#pde-based-restoration" title="Link to this heading">#</a></h2>
<p>In some cases, the right-hand side of the PDE <a class="reference internal" href="#equation-grad-flow-generic">(3)</a> admits a potential, i.e., there exists a functional <span class="math notranslate nohighlight">\(\phi(\mathbf{x})\)</span> such that <span class="math notranslate nohighlight">\(-\nabla\phi(\mathbf{x})\)</span> is the right-hand side of Eq.:eq:<code class="code docutils literal notranslate"><span class="pre">grad_flow_generic</span></code>. In this case,
the algorithm <a class="reference internal" href="#equation-update-rule">(1)</a> can be seen as a gradient descent algorithm towards the minimizer of the functional <span class="math notranslate nohighlight">\(\phi\)</span>. As already remarked, such minimizer will be the steady-state of the PDE <a class="reference internal" href="#equation-grad-flow-generic">(3)</a>. Typically, the steady-state of
diffusion operators is a flat solution.</p>
<p>However, non-trivial steady-states are achieved when the diffusion operators are used for PDE-based image restoration. Indeed, let us assume that we observe a noisy version <span class="math notranslate nohighlight">\(\mathbf{y}\)</span> of the true image <span class="math notranslate nohighlight">\(\mathbf{x}\)</span>, so that <span class="math notranslate nohighlight">\(\mathbf{y}=\mathbf{x}+\boldsymbol{\varepsilon}\)</span>,
where <span class="math notranslate nohighlight">\(\boldsymbol{\varepsilon}\)</span> is the noise corrupting the image. If we know the noise distribution (Gaussian/Poisson/…), we can define a likelihood function <span class="math notranslate nohighlight">\(l(\mathbf{y}\vert\mathbf{x})\)</span> describing the likelihood of observing <span class="math notranslate nohighlight">\(\mathbf{y}\)</span>
if the ground truth is <span class="math notranslate nohighlight">\(\mathbf{x}\)</span>. Typically, the inverse problem of recovering <span class="math notranslate nohighlight">\(\mathbf{x}\)</span> from the noisy <span class="math notranslate nohighlight">\(\mathbf{y}\)</span> is an ill-posed problem. <em>Regularization</em> is a popular way of addressing such ill-posedness: the image
restoration problem is formulated as the penalized optimization problem</p>
<div class="math notranslate nohighlight" id="equation-penalized-opt">
<span class="eqno">(4)<a class="headerlink" href="#equation-penalized-opt" title="Link to this equation">#</a></span>\[\mathbf{x}^* = \arg \min_{\mathbf{x}}l(\mathbf{y}\vert\mathbf{x}) + \lambda \phi(\mathbf{x}),\]</div>
<p>where <span class="math notranslate nohighlight">\(\phi\)</span> is the so-called regularization functional and <span class="math notranslate nohighlight">\(\lambda\)</span> the regularization parameter determining the amount of imposed regularization. To minimize <a class="reference internal" href="#equation-penalized-opt">(4)</a>, we can consider the <em>gradient flow</em></p>
<div class="math notranslate nohighlight" id="equation-gradient-flow-penalized">
<span class="eqno">(5)<a class="headerlink" href="#equation-gradient-flow-penalized" title="Link to this equation">#</a></span>\[\frac{\partial{\mathbf{x}}}{\partial{t}} = - \nabla l(\mathbf{y}\vert\mathbf{x}) - \lambda \nabla \phi(\mathbf{x}).\]</div>
<p>Now, any diffusion operator can be used to replace the term <span class="math notranslate nohighlight">\(-\nabla \phi(\mathbf{x})\)</span> in Eq.:eq:<code class="code docutils literal notranslate"><span class="pre">gradient_flow_penalized</span></code> by the right-hand side of the PDE <a class="reference internal" href="#equation-grad-flow-generic">(3)</a>.
Therefore, <strong>diffusion operators can be used for PDE-based image restoration</strong> combining them with a suitable likelihood term. If the diffusion operators admit a potential <span class="math notranslate nohighlight">\(\phi\)</span>, the penalized optimization problem <a class="reference internal" href="#equation-penalized-opt">(4)</a> can be explicitly
defined. However, diffusion operators do not necessarily derive from a potential. As a matter of fact, many of them don’t. Nevertheless, they can still be used for PDE-based image smoothing based on Eq.:eq:<code class="code docutils literal notranslate"><span class="pre">gradient_flow_penalized</span></code>, with the only caveat
that the resulting minimizer cannot be interpreted as the minimizer of an energy functional <span class="math notranslate nohighlight">\(l(\mathbf{y}\vert\cdot)+\lambda\phi(\cdot)\)</span>.</p>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="right-next"
       href="api/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">API Reference</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2024, Daniele Hamm &lt;daniele.hamm@epfl.ch&gt;.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    <br/>
  </p>
</div>
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>